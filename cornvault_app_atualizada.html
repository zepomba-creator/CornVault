
<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CornVault Integrado</title>
  <style>
    body { font-family: sans-serif; margin: 0; background: #fffef8; color: #1a1a1a; text-align: center; }
    .top { background: #2c6e49; color: white; padding: 20px; font-size: 24px; font-weight: bold; display:none; }
    .section { margin: 20px auto; max-width: 600px; background: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 0 10px #ddd; display:none; }
    .btn { background: #2c6e49; color: white; border: none; padding: 10px 20px; margin: 10px; border-radius: 10px; cursor: pointer; }
    .nav { visibility: hidden; position:fixed; bottom:0; left:0; right:0; height:60px; background:#eee; display:flex; justify-content:space-around; align-items:center; border-top:1px solid #ccc; }
    .nav button { background:none; border:none; font-size:22px; }
  </style>
</head>
<body onload="startSplash()">
<div id="splash" style="position:fixed;top:0;left:0;right:0;bottom:0;background:#fffef8;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;">
  <div style="font-size:40px;font-weight:bold;">CornVault</div>
  <div style="font-size:60px;">ğŸŒ½</div>
</div>

<div id="login" style="display:none;padding:30px;">
  <h2>Entrar no CornVault</h2>
  <input id="email" placeholder="Email" style="margin:10px;padding:10px;width:80%;"><br>
  <input id="password" type="password" placeholder="Password" style="margin:10px;padding:10px;width:80%;"><br>
  <button onclick="login()" class="btn">Entrar</button>
  <button onclick="createAccount()" class="btn">Criar Conta</button>
</div>

<div class="top" id="topBar" style="display:none;">CornVault</div>
<div id="userInfo" style="margin: 10px; font-weight: bold;">Saldo: <span id="corns">20</span> CORNs</div>


<div class="section" id="hub">
  <h3>Resumo EconÃ³mico</h3>
  <canvas id="cornChart" width="300" height="200"></canvas>
  <p><strong>Em circulaÃ§Ã£o:</strong> 1.233.456 CORNs</p>
  <p><strong>Jogadores:</strong> 128</p>
  <p><strong>Teu nÃ­vel:</strong> Agricultor Bronze</p>
</div>

<div class="section" id="field">
  <h3>ğŸŒ½ Campo de Milhos</h3>
  <p>Milhos plantados: ğŸŒ½ğŸŒ½ğŸŒ½</p>
  <p>Rendimento estimado: â‚¬0.25 a cada 2 dias</p>
<button class="btn" onclick="buyField()">Comprar Terreno (5 CORNs = 5â‚¬)</button>

</div>

<div class="section" id="pvp">
  <h3>âš”ï¸ Modo PVP</h3>
  <p>ğŸ¦  Atacar inimigo (5 CORNs): 49.99% sucesso</p>
  <p>ğŸ›¡ï¸ Comprar repelente (protege 3 ataques): 10 CORNs</p>
  <button class="btn" onclick="attack()">Atacar</button>
  <button class="btn" onclick="buyRepellent()">Comprar Repelente</button>
  <div id="pvpLog" style="margin-top:10px;"></div>
</div>

<div class="section" id="terms">
  <h3>ğŸ“„ Termos e CondiÃ§Ãµes</h3>
  <p>SimulaÃ§Ã£o digital. Nenhuma transaÃ§Ã£o real Ã© efetuada nesta app.</p>
</div>

<div class="section" id="support">
  <h3>ğŸ›Ÿ Suporte</h3>
  <p>Email: suporte@cornvault.com</p>
</div>

<div class="nav" id="navBar" style="visibility:hidden;">
  <button onclick="show('hub')">ğŸ </button>
  <button onclick="show('field')">ğŸŒ¾</button>
  <button onclick="show('pvp')">âš”ï¸</button>
  <button onclick="show('terms')">ğŸ“„</button>
  <button onclick="show('support')">ğŸ›Ÿ</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  let userCorns = parseInt(localStorage.getItem("corns")) || 20;

  function updateCornsDisplay() {
    document.getElementById("corns").innerText = userCorns;
    localStorage.setItem("corns", userCorns);
  }

  function getRandomOpponent() {
    const names = ["AgricultorX", "Milheiro99", "ZeMilho", "CornKing", "JoanaMilhuda"];
    return names[Math.floor(Math.random() * names.length)];
  }

  function attack() {
    const opponent = getRandomOpponent();
    if (userCorns < 5) {
      document.getElementById("pvpLog").innerText = "NÃ£o tens CORNs suficientes para atacar!";
      return;
    }
    userCorns -= 5;
    const chance = Math.random();
    const success = chance < 0.4999;
    if (success) {
      userCorns += 3;
      document.getElementById("pvpLog").innerText = `Atacaste ${opponent} e ganhaste 3 CORNs!`;
    } else {
      document.getElementById("pvpLog").innerText = `Atacaste ${opponent}, mas falhaste!`;
    }
    updateCornsDisplay();
  }

  function buyRepellent() {
    if (userCorns < 10) {
      document.getElementById("pvpLog").innerText = "NÃ£o tens CORNs suficientes para comprar repelente!";
      return;
    }
    userCorns -= 10;
    updateCornsDisplay();
    document.getElementById("pvpLog").innerText = "ğŸ›¡ï¸ Repelente comprado. Protege-te de 3 ataques.";
  }

  function buyField() {
    if (userCorns < 5) {
      alert("NÃ£o tens CORNs suficientes para comprar terreno!");
      return;
    }
    userCorns -= 5;
    alert("Terreno comprado! Milhos plantados com sucesso.");
    updateCornsDisplay();
  }

  function startApp() {
    document.getElementById("login").style.display = "none";
    document.getElementById("topBar").style.display = "block"; 
    document.getElementById("navBar").style.visibility = "visible";
    document.getElementById("navBar").style.display = "flex";
    updateCornsDisplay();
    show("hub");
    drawChart();
  }
</script>

</body>
</html>