
<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CornVault</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    body {
      margin: 0;
      background-color: #fffef8;
      color: #1a1a1a;
      text-align: center;
    }
    .screen {
      display: none;
      padding: 20px;
      min-height: calc(100vh - 60px);
    }
    .active {
      display: block;
    }
    .top-bar {
      font-size: 24px;
      font-weight: bold;
      padding: 20px;
      background-color: #2c6e49;
      color: white;
    }
    .balance {
      font-size: 22px;
      margin: 20px 0;
    }
    .btn {
      padding: 14px 24px;
      margin: 10px 0;
      font-size: 16px;
      background-color: #2c6e49;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    .nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 60px;
      background-color: #eee;
      display: flex;
      justify-content: space-around;
      align-items: center;
      border-top: 1px solid #ccc;
    }
    .nav button {
      background: none;
      border: none;
      font-size: 20px;
    }
    .field-box {
      margin-top: 20px;
    }
    .corn-emoji {
      font-size: 28px;
      animation: pulse 2s infinite ease-in-out;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }
  </style>
</head>

<body onload="startSplash()">
<div id="splash" style="position:fixed; top:0; left:0; right:0; bottom:0; background:#fffef8; display:flex; flex-direction:column; align-items:center; justify-content:center; z-index:9999;">
  <div style="font-size:40px; font-weight:bold; margin-bottom:10px;">CornVault</div>
  <div style="font-size:64px; animation: pulse 2s infinite;">üåΩ</div>
</div>
<div id="auth" style="display:none; padding:30px; text-align:center;">
  <h2>Entrar no CornVault</h2>
  <input id="email" placeholder="Email" style="margin:10px;padding:10px;width:80%;"><br>
  <input id="password" type="password" placeholder="Password" style="margin:10px;padding:10px;width:80%;"><br>
  <button onclick="login()" class="btn">Entrar</button>
  <button onclick="createAccount()" class="btn">Criar Conta</button>
</div>
<div id="app" style="display:none;">


<div class="top-bar">CornVault</div>

<!-- Screens -->
<div id="hub" class="screen active">
  <div class="balance" id="cornBalance">0.000000 CORN</div>
  <button class="btn" onclick="buyCorn()">Comprar 5 CORNs (50‚Ç¨)</button>
</div>

<div id="field" class="screen">
  <div id="fieldContent"></div>
</div>

<div id="terms" class="screen">
  <h3>üìÑ Termos e Condi√ß√µes</h3>
  <p>Este √© um simulador digital. Todos os valores s√£o fict√≠cios. Nenhuma transa√ß√£o monet√°ria real ocorre nesta plataforma.</p>
</div>

<div id="support" class="screen">
  <h3>üõü Suporte</h3>
  <p>Contacta-nos: suporte@cornvault.com</p>
</div>

<!-- Nav -->

  <div class="nav">
    <button onclick="navigate('hub')">üè†</button>
    <button onclick="navigate('field')">üåæ</button>
    <button onclick="navigate('terms')">üìÑ</button>
    <button onclick="navigate('support')">üõü</button>
    <button onclick="navigate('pvp')">‚öîÔ∏è</button>
  </div>
</div> <!-- fecha app div -->

<div id="pvp" class="screen">
  <h3>‚öîÔ∏è Modo PVP</h3>
  <div style="font-size:24px;">ü¶† Atacar Inimigo</div>
  <p>Consome 5 CORNs por tentativa. Chance de sucesso: 49.99% (ou 14.99% se o inimigo tiver repelente).</p>
  <button class="btn" onclick="attackBot()">Atacar Inimigo (ü¶†)</button>
  <hr>
  <div style="font-size:24px;">üõ°Ô∏è Comprar Repelente</div>
  <p>Protege contra 3 ataques. Custa 10 CORNs.</p>
  <button class="btn" onclick="buyRepellent()">Comprar Repelente (üõ°Ô∏è)</button>
  <div id="pvpLog" style="margin-top:20px;"></div>
</div>

  <h3>‚öîÔ∏è Modo PVP</h3>
  <p>O modo jogador contra jogador est√° em constru√ß√£o! Volta em breve para competir com outros agricultores de milho.</p>
</div>

  <button onclick="navigate('hub')">üè†</button>
  <button onclick="navigate('field')">üåæ</button>
  <button onclick="navigate('terms')">üìÑ</button>
  <button onclick="navigate('support')">üõü</button>
</div>

<script>
  if (!localStorage.getItem("corns")) localStorage.setItem("corns", "0");
  if (!localStorage.getItem("hasLand")) localStorage.setItem("hasLand", "false");

  function navigate(id) {
    document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
    document.getElementById(id).classList.add("active");
    if (id === "hub") updateBalance();
    if (id === "field") renderField();
  }

  function updateBalance() {
    const corns = parseInt(localStorage.getItem("corns") || "0");
    document.getElementById("cornBalance").textContent = (corns / 1000000).toFixed(6) + " CORN";
  }

  function buyCorn() {
    let corns = parseInt(localStorage.getItem("corns") || "0");
    corns += 5000000;
    localStorage.setItem("corns", corns);
    updateBalance();
    alert("Compraste 5 CORNs!");
  }

  function renderField() {
    const field = document.getElementById("fieldContent");
    const hasLand = localStorage.getItem("hasLand") === "true";
    const corns = parseInt(localStorage.getItem("corns") || "0");
    if (!hasLand) {
      field.innerHTML = `<p>Ainda n√£o tens terreno.</p><button class='btn' onclick='buyLand()'>Comprar Terreno (100‚Ç¨)</button>`;
    } else {
      let emojis = 0;
      if (corns >= 1000000000) emojis = 5;
      else if (corns >= 500000000) emojis = 4;
      else if (corns >= 200000000) emojis = 3;
      else if (corns >= 50000000) emojis = 2;
      else if (corns >= 10000000) emojis = 1;
      const earning = (Math.floor(corns / 5000000) * 0.05).toFixed(2);
      field.innerHTML = `<p>Terreno adquirido.</p><p>Tens ${(corns / 1000000).toFixed(6)} CORNs.</p><p>Rendimento: ‚Ç¨${earning} a cada 2 dias.</p><div>${"üåΩ ".repeat(emojis)}</div>`;
    }
  }

  function buyLand() {
    localStorage.setItem("hasLand", "true");
    renderField();
  }

  updateBalance();

  function startSplash() {
    setTimeout(() => {
      document.getElementById('splash').style.display = 'none';
      document.getElementById('auth').style.display = 'block';
    }, 2500);
  }

  function login() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    if (localStorage.getItem("email") === email && localStorage.getItem("password") === password) {
      document.getElementById("auth").style.display = "none";
      document.getElementById("app").style.display = "block";
      document.querySelector('.top-bar').style.display = "block";
      document.querySelector('.nav').style.display = "flex";
      navigate('hub');
    } else {
      alert("Credenciais inv√°lidas.");
    }
  }

  function createAccount() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    if (email && password) {
      localStorage.setItem("email", email);
      localStorage.setItem("password", password);
      localStorage.setItem("corns", "0");
      localStorage.setItem("hasLand", "false");
      alert("Conta criada com sucesso!");
    } else {
      alert("Preenche o email e password.");
    }
  }

  function attackBot() {
    let corns = parseInt(localStorage.getItem("corns") || "0");
    if (corns < 5000000) {
      alert("N√£o tens CORNs suficientes para atacar.");
      return;
    }
    corns -= 5000000;

    // Verifica se o bot tem repelente (simulado)
    let botHasRepellent = Math.random() < 0.3;
    let successChance = botHasRepellent ? 0.1499 : 0.4999;
    let success = Math.random() < successChance;

    // Exibe resultado
    let log = document.getElementById("pvpLog");
    let enemy = "Bot Praga " + Math.floor(Math.random() * 100 + 1);
    if (success) {
      corns += 3000000; // recompensa
      log.innerHTML = `Sucesso! Atacaste ${enemy} e ganhaste 3 CORNs.`;
    } else {
      log.innerHTML = `Falhaste ao atacar ${enemy}. N√£o ganhaste nada.`;
    }

    localStorage.setItem("corns", corns);
    updateBalance();
    renderField();
  }

  function buyRepellent() {
    let corns = parseInt(localStorage.getItem("corns") || "0");
    if (corns < 10000000) {
      alert("N√£o tens CORNs suficientes para comprar repelente.");
      return;
    }
    corns -= 10000000;
    localStorage.setItem("corns", corns);
    localStorage.setItem("repellent", "3");
    document.getElementById("pvpLog").innerHTML = "üõ°Ô∏è Compraste repelente. Protege-te de 3 ataques.";
    updateBalance();
  }
</script>



</body>
</html>
