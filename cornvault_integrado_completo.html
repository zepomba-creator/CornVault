
<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CornVault Integrado</title>
  <style>
    body { font-family: sans-serif; margin: 0; background: #fffef8; color: #1a1a1a; text-align: center; }
    .top { background: #2c6e49; color: white; padding: 20px; font-size: 24px; font-weight: bold; display:none; }
    .section { margin: 20px auto; max-width: 600px; background: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 0 10px #ddd; display:none; }
    .btn { background: #2c6e49; color: white; border: none; padding: 10px 20px; margin: 10px; border-radius: 10px; cursor: pointer; }
    .nav { display:none; position:fixed; bottom:0; left:0; right:0; height:60px; background:#eee; display:flex; justify-content:space-around; align-items:center; border-top:1px solid #ccc; }
    .nav button { background:none; border:none; font-size:22px; }
  </style>
</head>
<body onload="startSplash()">
<div id="splash" style="position:fixed;top:0;left:0;right:0;bottom:0;background:#fffef8;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;">
  <div style="font-size:40px;font-weight:bold;">CornVault</div>
  <div style="font-size:60px;">🌽</div>
</div>

<div id="login" style="display:none;padding:30px;">
  <h2>Entrar no CornVault</h2>
  <input id="email" placeholder="Email" style="margin:10px;padding:10px;width:80%;"><br>
  <input id="password" type="password" placeholder="Password" style="margin:10px;padding:10px;width:80%;"><br>
  <button onclick="login()" class="btn">Entrar</button>
  <button onclick="createAccount()" class="btn">Criar Conta</button>
</div>

<div class="top" id="topBar">CornVault</div>

<div class="section" id="hub">
  <h3>Resumo Económico</h3>
  <canvas id="cornChart" width="300" height="200"></canvas>
  <p><strong>Em circulação:</strong> 1.233.456 CORNs</p>
  <p><strong>Jogadores:</strong> 128</p>
  <p><strong>Teu nível:</strong> Agricultor Bronze</p>
</div>

<div class="section" id="field">
  <h3>🌽 Campo de Milhos</h3>
  <p>Milhos plantados: 🌽🌽🌽</p>
  <p>Rendimento estimado: €0.25 a cada 2 dias</p>
</div>

<div class="section" id="pvp">
  <h3>⚔️ Modo PVP</h3>
  <p>🦠 Atacar inimigo (5 CORNs): 49.99% sucesso</p>
  <p>🛡️ Comprar repelente (protege 3 ataques): 10 CORNs</p>
  <button class="btn" onclick="attack()">Atacar</button>
  <button class="btn" onclick="buyRepellent()">Comprar Repelente</button>
  <div id="pvpLog" style="margin-top:10px;"></div>
</div>

<div class="section" id="terms">
  <h3>📄 Termos e Condições</h3>
  <p>Simulação digital. Nenhuma transação real é efetuada nesta app.</p>
</div>

<div class="section" id="support">
  <h3>🛟 Suporte</h3>
  <p>Email: suporte@cornvault.com</p>
</div>

<div class="nav" id="navBar">
  <button onclick="show('hub')">🏠</button>
  <button onclick="show('field')">🌾</button>
  <button onclick="show('pvp')">⚔️</button>
  <button onclick="show('terms')">📄</button>
  <button onclick="show('support')">🛟</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  function startSplash() {
    setTimeout(() => {
      document.getElementById('splash').style.display = 'none';
      document.getElementById('login').style.display = 'block';
    }, 2000);
  }

  function login() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    if (localStorage.getItem("email") === email && localStorage.getItem("password") === password) {
      startApp();
    } else {
      alert("Credenciais inválidas.");
    }
  }

  function createAccount() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    if (email && password) {
      localStorage.setItem("email", email);
      localStorage.setItem("password", password);
      startApp();
    } else {
      alert("Preenche os dados.");
    }
  }

  function startApp() {
    document.getElementById("login").style.display = "none";
    document.getElementById("topBar").style.display = "block";
    document.getElementById("navBar").style.display = "flex";
    show("hub");
    drawChart();
  }

  function show(section) {
    document.querySelectorAll(".section").forEach(s => s.style.display = "none");
    document.getElementById(section).style.display = "block";
  }

  function drawChart() {
    const ctx = document.getElementById('cornChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
        datasets: [{
          label: 'Valor CORN (€)',
          data: [0.03, 0.035, 0.034, 0.04, 0.038, 0.042, 0.045],
          borderColor: '#2c6e49',
          fill: false,
          tension: 0.3
        }]
      },
      options: {
        responsive: true,
        plugins: { legend: { display: false }},
        scales: { y: { beginAtZero: true } }
      }
    });
  }

  function attack() {
    const chance = Math.random();
    const success = chance < 0.4999;
    const msg = success ? "Vitória! Ganhaste 3 CORNs." : "Falhaste o ataque!";
    document.getElementById("pvpLog").innerText = msg;
  }

  function buyRepellent() {
    document.getElementById("pvpLog").innerText = "🛡️ Repelente comprado. Protege-te de 3 ataques.";
  }
</script>
</body>
</html>
